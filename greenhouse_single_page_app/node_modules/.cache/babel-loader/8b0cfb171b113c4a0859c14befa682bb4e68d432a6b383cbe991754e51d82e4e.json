{"ast":null,"code":"export default {\n  name: 'SensorFreqGauge',\n  props: {\n    successfulPings: {\n      type: Number,\n      required: true\n    },\n    totalExpectedPings: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    pingPercentage() {\n      const pulled = Number(this.successfulPings);\n      const expected = Number(this.totalExpectedPings);\n      if (expected === 0) {\n        return 75; // Default to 75% if no expected pings\n      }\n      const rawPercentage = pulled / expected * 100;\n      let visualPercentage;\n      if (rawPercentage <= 75) {\n        visualPercentage = 75; // Clamp anything below 75% to 75% visual\n      } else {\n        // Rescale the range 75% - 100% to the visual range 75% (right) - 0% (left)\n        visualPercentage = 75 - (rawPercentage - 75) * (75 / 25);\n      }\n      return visualPercentage;\n    },\n    markerThickness() {\n      return 5; // Or 3, depending on your preference\n    }\n  }\n};","map":{"version":3,"names":["name","props","successfulPings","type","Number","required","totalExpectedPings","computed","pingPercentage","pulled","expected","rawPercentage","visualPercentage","markerThickness"],"sources":["/home/alex/dev/GreenHouse/greenhouse_single_page_app/src/components/UI/SensorFreqGauge.vue"],"sourcesContent":["<template>\n  <div class=\"ping-indicator\">\n    <div class=\"segment segment-red\"></div>\n    <div class=\"segment segment-orange\"></div>\n    <div class=\"segment segment-green\"></div>\n    <div\n  class=\"ping-marker\"\n  :style=\"{ left: `calc(${pingPercentage}% - ${markerThickness}px)` }\"\n></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SensorFreqGauge',\n  props: {\n    successfulPings: {\n      type: Number,\n      required: true,\n    },\n    totalExpectedPings: {\n      type: Number,\n      required: true,\n    },\n  },\n  computed: {\n  pingPercentage() {\n    const pulled = Number(this.successfulPings);\n    const expected = Number(this.totalExpectedPings);\n\n    if (expected === 0) {\n      return 75; // Default to 75% if no expected pings\n    }\n\n    const rawPercentage = (pulled / expected) * 100;\n\n    let visualPercentage;\n\n    if (rawPercentage <= 75) {\n      visualPercentage = 75; // Clamp anything below 75% to 75% visual\n    } else {\n      // Rescale the range 75% - 100% to the visual range 75% (right) - 0% (left)\n      visualPercentage = 75 - ((rawPercentage - 75) * (75 / 25));\n    }\n\n    return visualPercentage;\n  },\n  markerThickness() {\n    return 5; // Or 3, depending on your preference\n  },\n},\n};\n</script>\n<style scoped>\n.ping-indicator {\n  position: relative;\n  display: flex;\n  width: 300px; /* Adjust as needed */\n  height: 30px;  /* Adjust as needed */\n  border: 0px solid #ccc;\n  overflow: hidden;\n}\n\n.segment {\n  height: 100%;\n  flex-shrink: 0;\n  position: absolute;\n}\n\n.segment-red {\n  background-color: red;\n  /* Visual range: Rightmost (75%) to where 85% actual falls */\n  right: 0; /* Align to the right edge */\n  width: calc((85 - 75) / 25 * 75%); /* (Range / Total Rescaled Range) * Visual Width */\n}\n\n.segment-orange {\n  background-color: orange;\n  /* Visual range: Where 85% actual falls to where 95% actual falls */\n  right: calc((85 - 75) / 25 * 75%); /* Start after red */\n  width: calc((95 - 85) / 25 * 75%); /* (Range / Total Rescaled Range) * Visual Width */\n}\n\n.segment-green {\n  background-color: green;\n  /* Visual range: Where 95% actual falls to leftmost (100%) */\n  right: calc((95 - 75) / 25 * 75%); /* Start after red + orange */\n  width: calc((100 - 95) / 25 * 75%); /* (Range / Total Rescaled Range) * Visual Width */\n}\n\n.ping-marker {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 5px; /* Or 3px */\n  background-color: black;\n  z-index: 10;\n  left: calc(${pingPercentage}% - ${markerThickness}px);\n}\n</style>"],"mappings":"AAaA,eAAe;EACbA,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE;IACLC,eAAe,EAAE;MACfC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,kBAAkB,EAAE;MAClBH,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDE,QAAQ,EAAE;IACVC,cAAcA,CAAA,EAAG;MACf,MAAMC,MAAK,GAAIL,MAAM,CAAC,IAAI,CAACF,eAAe,CAAC;MAC3C,MAAMQ,QAAO,GAAIN,MAAM,CAAC,IAAI,CAACE,kBAAkB,CAAC;MAEhD,IAAII,QAAO,KAAM,CAAC,EAAE;QAClB,OAAO,EAAE,EAAE;MACb;MAEA,MAAMC,aAAY,GAAKF,MAAK,GAAIC,QAAQ,GAAI,GAAG;MAE/C,IAAIE,gBAAgB;MAEpB,IAAID,aAAY,IAAK,EAAE,EAAE;QACvBC,gBAAe,GAAI,EAAE,EAAE;MACzB,OAAO;QACL;QACAA,gBAAe,GAAI,EAAC,GAAK,CAACD,aAAY,GAAI,EAAE,KAAK,EAAC,GAAI,EAAE,CAAE;MAC5D;MAEA,OAAOC,gBAAgB;IACzB,CAAC;IACDC,eAAeA,CAAA,EAAG;MAChB,OAAO,CAAC,EAAE;IACZ;EACF;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}